<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Mariano Dashboard{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Font Awesome (Replace with your kit URL) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Toastify CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <!-- Your Custom Dashboard CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">

    {% block head_css %}{% endblock %} {# Optional block for page-specific CSS links #}

</head>
<body>
    <div class="dashboard-container d-flex">

        <!-- ===== Sidebar ===== -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                 <!-- Link to a default/main dashboard view -->
                <a href="{{ url_for('dashboard.sales_manager_dashboard') }}" class="text-white text-decoration-none">
                   <h4><i class="fas fa-road me-2"></i>Mariano On The Road</h4>
                </a>
            </div>

            <div class="sidebar-profile">
                 <div class="profile-image"><i class="fas fa-user-circle"></i></div>
                 <div class="profile-info">
                     <h5>Sales Manager</h5>
                     <p>Control Panel</p>
                 </div>
            </div>

            <!-- Navigation Links -->
            <ul class="sidebar-nav nav flex-column">
                 <!-- Add 'active' class based on current Flask endpoint -->
                <li class="nav-item {% if request.endpoint == 'dashboard.sales_manager_dashboard' %}active{% endif %}">
                    <a class="nav-link" href="{{ url_for('dashboard.sales_manager_dashboard') }}">
                        <i class="fas fa-chart-line fa-fw me-2"></i> Sales Performance
                    </a>
                </li>
                <!-- Temporarily hidden Churn Dashboard link
                <li class="nav-item {% if request.endpoint == 'dashboard.main_dashboard' %}active{% endif %}">
                    <a class="nav-link" href="{{ url_for('dashboard.main_dashboard') }}">
                        <i class="fas fa-exclamation-triangle fa-fw me-2"></i> Churn Risk
                    </a>
                </li> 
                -->
                <li class="nav-item {% if request.endpoint == 'dashboard.strategic_dashboard' %}active{% endif %}">
                    <a class="nav-link" href="{{ url_for('dashboard.strategic_dashboard') }}">
                        <i class="fas fa-star fa-fw me-2"></i> Strategic Accounts
                    </a>
                </li>
                <!-- Add other links here if needed -->
            </ul>
        </nav>
        <!-- ===== End Sidebar ===== -->

        <!-- ===== Main Content Area ===== -->
        <div class="main-content flex-grow-1 p-3 p-md-4"> <!-- Add padding -->

            <!-- Top Navbar (Optional) -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white mb-4 top-nav rounded shadow-sm">
                <div class="container-fluid">
                    <!-- Hamburger Menu Toggle Button (Optional - requires JS to function) -->
                    <!-- <button class="btn btn-light d-lg-none me-2" type="button" id="sidebarToggle" aria-label="Toggle sidebar">
                        <i class="fas fa-bars"></i>
                    </button> -->
                    <div class="nav-title">
                        <!-- Page title set by child templates -->
                        <h1 class="h4 mb-0">{% block page_title %}Dashboard Overview{% endblock %}</h1>
                    </div>
                     <!-- Example Actions -->
                     <div class="ms-auto d-flex align-items-center">
                          <span class="me-3" id="currentDate">Loading date...</span>
                          <button class="btn btn-sm btn-outline-primary" id="refreshData" title="Refresh Data">
                              <i class="fas fa-sync-alt"></i>
                          </button>
                     </div>
                </div>
            </nav>
            <!-- End Top Navbar -->

            <!-- == Main Content Block == -->
            <main>
              {% block content %}
              <!-- Child template content will be injected here -->
              <p>Welcome to the dashboard. Select a view from the sidebar.</p>
              {% endblock %}
            </main>
            <!-- == End Content Block == -->

        </div>
        <!-- ===== End Main Content Area ===== -->

    </div><!-- End Dashboard Container -->

    <!-- JavaScript Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.0/papaparse.min.js"></script>

    <!-- Placeholder for Font Awesome Kit -->
    <!-- <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script> -->


    <!-- Block for page-specific JavaScript files -->
    {% block scripts %}
    {% endblock %}

</body>
</html>